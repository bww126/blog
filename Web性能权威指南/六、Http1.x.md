## 六、Http1.x
> HTTP 1.0 的优化策略非常简单，就一句话:升级到 HTTP 1.1。完了!

### HTTP1.1优化
> 改进 HTTP 的性能是 HTTP 1.1 工作组的一个重要目标，后来这个版本也引入了大量增强性能的重要特性:

* 持久化连接以支持连接重用;
* 分块传输编码以支持流式响应;
* 请求管道以支持并行请求处理;
* 字节服务以支持基于范围的资源请求; 
* 改进的更好的缓存机制。

### 一般网络优化规则
* 减少DNS查询 
* 每次域名解析都需要一次网络往返，增加请求的延迟，在查询期间会阻塞请求。
* 减少HTTP请求 任何请求都不如没有请求更快，因此要去掉页面上没有必要的资源。
* 使用CDN
* 从地理上把数据放到接近客户端的地方，可以显著减少每次 TCP 连接的网络延 迟，增加吞吐量。
* 添加Expires首部并配置ETag标签 相关资源应该缓存，以避免重复请求每个页面中相同的资源。
* Expires 首部可用 于指定缓存时间，在这个时间内可以直接从缓存取得资源，完全避免 HTTP 请 求。ETag 及 Last-Modified 首部提供了一个与缓存相关的机制，相当于最后一次 更新的指纹或时间戳。
* Gzip资源
* 所有文本资源都应该使用 Gzip 压缩，然后再在客户端与服务器间传输。一般来 说，Gzip 可以减少 60%~80% 的文件大小，也是一个相对简单(只要在服务器上 配置一个选项)，但优化效果较好的举措。
* 避免HTTP重定向
* HTTP 重定向极其耗时，特别是把客户端定向到一个完全不同的域名的情况下， 还会导致额外的 DNS 查询、TCP 连接延迟，等等。